{"version":3,"sources":["app.js","define/define.js","auth/signin.js","auth/signup.js","auth/userlinks.js","history/history.js","logs/logs.js","authinterceptor.js","currentuser.js","define.service.js","logs.service.js","sessiontoken.js","users.service.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACZA;ACAA;ACAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC7CA;ACAA;ACAA;ACAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACvBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC9BA;ACAA;ACAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACrBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"bundle.js","sourcesContent":["(function(){\n\tvar app = angular.module('workoutlog',[\n\t\t'ui.router',\n\t\t'workoutlog.auth.signup'\n\t]);\n\tfunction config($urlRouterProvider){\n\t\t$urlRouterProvider.otherwise('/signin');\n\t}\n\t// $inject: directive form angular to inject dependecies\n\tconfig.$inject = ['$urlRouterProvider'];\n\tapp.config(config);\n\tapp.constant('API_BASE', '//localhost:3000/api/');\n})();","","","(function(){\n\tangular\n\t\t.module('workoutlog.auth.signup', ['ui.router'])\n\t\t.config(signupConfig);\n\n\t\t// $stateProvider is from ui-router and is the method through which url routing is handled.\n\t\tfunction signupConfig($stateProvider){\n\t\t\t$stateProvider\n\t\t\t\t// defines this component as the state of signup and provides the url route\n\t\t\t\t.state('signup',{\n\t\t\t\t\turl: '/signup',\n\t\t\t\t\t// templateUrl is the html the component will use\n\t\t\t\t\ttemplateUrl: '/components/auth/signup.html',\n\t\t\t\t\t// controller indicates which controller will dictate the behavior of this view\n\t\t\t\t\tcontroller: SignUpController,\n\t\t\t\t\t// controllerAs creates an alias so a developer doesn’t have to type SignUpController.<function or object>\n\t\t\t\t\tcontrollerAs: 'ctrl',\n\t\t\t\t\t// bindToController binds the scope of the view to the scope of this controller and eliminates the need to use $scope\n\t\t\t\t\tbindToController: this\n\t\t\t\t});\n\t\t}\n\n\t\tsignupConfig.$inject = ['$stateProvider'];\n\n\t\t// SignUpController has $state and UsersService injected into it\n\t\tfunction SignUpController($state, UsersService){\n\t\t\t// var vm = this; is how the binding of the controller to the view is completed\n\t\t\tvar vm = this;\n\t\t\t// vm.user = {}; establishes an object to build the username and password inside\n\t\t\tvm.user = {};\n\t\t\t// vm.message = “Sign up for an account!” is an example of expressions and how vm and this scope work together.\n\t\t\tvm.message = \"Sign up for an account!!!!!!! WSEFKNvkfdlvc\";\n\t\t\tvm.submit = function(){\n\t\t\t\t// ng-model and ng-submit create the vm.user object that UserService.create uses to sign a new user up to our application\n\t\t\t\t// .then is how the SignUpController handles the resolved promise and then routes the app to the define feature of the WorkoutLog\n\t\t\t\tUsersService.create(vm.user).then(function(response){\n\t\t\t\t\t// This display the response data in the console for Chrome Dev Tools\n\t\t\t\t\tconsole.log(response);\n\t\t\t\t\t// $state.go(‘define’) is how ui-route changes from state (url) to other states\n\t\t\t\t\t$state.go('define');\n\t\t\t\t});\n\t\t\t};\n\t\t}\n\n\t\tSignUpController.$inject = ['$state', 'UsersService'];\n})();","// this will be the js file that “powers” the custom directive","","","(function(){\n\tangular.module('workoutlog')\n\t\t.factory('AuthInterceptor', ['SessionToken', 'API_BASE',\n\t\t\tfunction(SessionToken, API_BASE){\n\t\t\t\treturn {\n\t\t\t\t\trequest: function(config){\n\t\t\t\t\t\tvar token = SessionToken.get();\n\t\t\t\t\t\tif (token && config.url.indexOf(API_BASE) > -1){\n\t\t\t\t\t\t\t// has config.headers - this is where the token that is generated on successful account creations(signup) and logging in (signin) are attached to each ajax request. The if statement above is essentially checking to see if there is a token and a url of API_BASE. Both of these are set in other files.\n\t\t\t\t\t\t\tconfig.headers['Authorization'] = token;\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn config;\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t\t}\n\t\t]);\n\tangular.module('workoutlog')\n\t\t// $httpProvider has an array that executes each interceptor that the Angular framework runs and also what a developer has custom built for specific applications.\n\t\t// $httpProvider are interceptors as methods to filter http requests\n\t\t.config(['$httpProvider', function($httpProvider){\n\t\t\treturn $httpProvider.interceptors.push('AuthInterceptor');\n\t\t}\n\t]);\n})();","(function(){\n\tangular.module('workoutlog')\n\t\t//  JavaScript has a window object but it is a global variable.  This makes testing and maintenance difficult.  $window is Angular’s window object and helps increase testing and maintenance by controlling the scope.\n\t\t// the CU is name of service. can call w/e\n\t\t.service('CurrentUser', ['$window', function($window){\n\t\t\t// declares and define sessiontoken()\n\t\t\tfunction CurrentUser(){\n\t\t\t\t// looks inside browers lS and grabs in of cU prop and setting to variable called currU\n\t\t\t\tvar currUser = $window.localStorage.getItem('currentUser');\n\t\t\t\tif (currUser && currUser !== \"undefined\"){\n\t\t\t\t\tthis.currentUser = JSON.parse($window.localStorage.getItem('currentUser'));\n\t\t\t\t}\n\t\t\t}\n\t\t\tCurrentUser.prototype.set = function(user){\n\t\t\t\tthis.currentUser = user;\n\t\t\t\t$window.localStorage.setItem('currentUser', JSON.stringify(user));\n\t\t\t};\n\t\t\tCurrentUser.prototype.get = function(){\n\t\t\t\treturn this.currentUser || {};\n\t\t\t};\n\t\t\tCurrentUser.prototype.clear = function(){\n\t\t\t\tthis.currentUser = undefined;\n\t\t\t\t$window.localStorage.removeItem('currentUser');\n\t\t\t};\n\t\t\tCurrentUser.prototype.isSignedIn = function(){\n\t\t\t\t// !! ensures that isSignedIn flips the boolean correctly. think through what occurs when a user signs in and how the use of a boolean could indicate that in code.\n\t\t\t\treturn !!this.get().id;\n\t\t\t}\n\t\t\treturn new CurrentUser();\n\t\t}]);\n})();","","","(function(){\n\tangular.module('workoutlog')\n\t\t//  JavaScript has a window object but it is a global variable.  This makes testing and maintenance difficult.  $window is Angular’s window object and helps increase testing and maintenance by controlling the scope.\n\t\t.service('SessionToken', ['$window', function($window){\n\t\t\t// declares and define sessiontoken()\n\t\t\tfunction SessionToken(){\n\t\t\t\tthis.sessionToken = $window.localStorage.getItem('sessionToken');\n\t\t\t}\n\t\t\tSessionToken.prototype.set = function(token){\n\t\t\t\tthis.sessionToken = token;\n\t\t\t\t$window.localStorage.setItem('sessionToken', token);\n\t\t\t};\n\t\t\tSessionToken.prototype.get = function(){\n\t\t\t\treturn this.sessionToken;\n\t\t\t};\n\t\t\tSessionToken.prototype.clear = function(){\n\t\t\t\tthis.sessionToken = undefined;\n\t\t\t\t$window.localStorage.removeItem('sessionToken');\n\t\t\t};\n\t\t\treturn new SessionToken();\n\t\t}]);\n})();","// handles the http request to create and / or signin a user\n(function(){\n\tangular.module('workoutlog')\n\t\t.service('UsersService', [\n\t\t\t'$http', 'API_BASE', 'SessionToken', 'CurrentUser',\n\t\t\tfunction($http, API_BASE, SessionToken, CurrentUser){\n\t\t\t\tfunction UsersService(){\n\n\t\t\t\t}\n\t\t\t\tUsersService.prototype.create = function(user){\n\t\t\t\t\tvar userPromise = $http.post(API_BASE + 'user', {\n\t\t\t\t\t\tuser: user\n\t\t\t\t\t});\n\t\t\t\t\tuserPromise.then(function(response){\n\t\t\t\t\t\tSessionToken.set(response.data.sessionToken);\n\t\t\t\t\t\tCurrentUser.set(response.data.user);\n\t\t\t\t\t});\n\t\t\t\t\treturn userPromise;\n\t\t\t\t};\n\t\t\t\tUsersService.prototype.login = function(user){\n\t\t\t\t\tvar loginPromise = $http.post(API_BASE + 'login', {\n\t\t\t\t\t\tuser: user\n\t\t\t\t\t})\n\t\t\t\t\tloginPromise.then(function(response){\n\t\t\t\t\t\tSessionToken.set(response.data.sessionToken);\n\t\t\t\t\t\tCurrentUser.set(response.data.user);\n\t\t\t\t\t})\n\t\t\t\t\treturn loginPromise;\n\t\t\t\t};\n\t\t\treturn new UsersService();\n\t\t}]);\n})();"]}